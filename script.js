!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function a(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?t(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}document.addEventListener("DOMContentLoaded",(function(){new l(u).start()}));var l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.state={ranges:{storage:0,transfer:0},calcData:e.map((function(e){return{name:e.name,value:0}}))}}var n,l,u;return n=t,(l=[{key:"start",value:function(){var e=this;this.render()&&document.querySelectorAll("input[type=range], input[type=radio]").forEach((function(t){var a=t;e.eventHandler({element:a}),a.addEventListener("input",(function(t){return e.eventHandler({element:t.target})}))}))}},{key:"setCalcData",value:function(e){var t=e.name,n=e.value;this.state.calcData=this.state.calcData.map((function(e){return e.name===t?a(a({},e),{},{value:Number(n.toFixed(2))}):e}))}},{key:"render",value:function(){var t=this,a=document.querySelector("#items ul");if(!a)return!1;for(var n=function(n){var r=t.data[n],l=document.createElement("li");l.setAttribute("data-value","0"),l.setAttribute("data-name",r.name),l.setAttribute("data-color",r.settings.color);var u=document.createElement("div");if(u.innerText=r.name,r.values)for(var o=0;o<r.values.length;o++){var i=r.values[o],c=i.type,v=i.value;"options"===c&&"object"===e(v)&&function(){var e=document.createElement("div");null==v||v.forEach((function(t,a){var n=t.name,l=t.value,u=document.createElement("div"),o=document.createElement("input"),i=document.createElement("label");o.type="radio",o.id=n,o.value=String(l),o.name=r.name+"-radio",o.checked=0===a,i.htmlFor=n,i.innerText=n,u.appendChild(o),u.appendChild(i),e.appendChild(u)})),u.appendChild(e)}()}l.appendChild(u),a.appendChild(l)},r=0;r<this.data.length;r++)n(r);return!0}},{key:"calculator",value:function(){for(var t=this,a=0;a<this.data.length;a++){var n=this.data[a],r=0;if(null==n||!n.values)throw new Error("");for(var l=0;l<n.values.length;l++){var u,o=n.values[l],i=o.type,c=o.priceCalcOption,v=o.value,s=o.name,d=this.state.ranges[s.toLowerCase()];"default"===i&&"number"==typeof v&&(r+=v*(d-(null!==(u=null==c?void 0:c.freeAmount)&&void 0!==u?u:0))),"options"===i&&"object"===e(v)&&function(){var e,a,l,u=t.getSelectedOptionId({radioName:n.name}).id,o=null!==(e=null==v||null===(a=v.filter((function(e){return e.name===u})))||void 0===a?void 0:a[0])&&void 0!==e?e:null;o&&(r+=o.value*(d-(null!==(l=null==c?void 0:c.freeAmount)&&void 0!==l?l:0)))}()}var f=n.settings,m=f.minValue,p=f.maxValue;r=r<m?m:p&&r>p?p:r,this.setCalcData({name:n.name,value:r})}}},{key:"eventHandler",value:function(e){var t=e.element,a=t.id,n=t.value;"number"==typeof this.state.ranges[a]&&(this.state.ranges[a]=Number(n),this.changeRangeLabel({id:a,value:n})),this.calculator(),this.chart()}},{key:"getSelectedOptionId",value:function(e){var t=e.radioName,a="";return document.querySelectorAll("input[name='".concat(t,"-radio']")).forEach((function(e){e.checked&&(a=e.id)})),{id:a}}},{key:"chart",value:function(){var t=this,a=[],n=[];this.state.calcData.forEach((function(e){0===a.length?a=[e]:a.forEach((function(t){t.value<e.value?a=[e]:t.value===e.value&&a.push(e)})),0===n.length?n=[e]:n.forEach((function(t){t.value>e.value?n=[e]:t.value===e.value&&n.push(e)}))}));for(var r=function(e){var r,l=t.state.calcData[e],u=l.name,o=l.value,i=document.querySelector('[data-name*="'.concat(u,'"]'));if(!i)return{v:void 0};var c=a.filter((function(e){return e.name===u}))[0],v=n.filter((function(e){return e.name===u}))[0],s=u===(null==v?void 0:v.name);i.style.setProperty("--percentages-chart","".concat(100*o/((null!==(r=null==c?void 0:c.value)&&void 0!==r?r:0)+40),"%")),i.style.setProperty("--data-chart-background",s?i.getAttribute("data-color"):"rgb(168, 168, 168)"),i.setAttribute("data-chart-value","".concat(o))},l=0;l<this.state.calcData.length;l++){var u=r(l);if("object"===e(u))return u.v}}},{key:"changeRangeLabel",value:function(e){var t,a=e.id,n=e.value,r=null===(t=document.querySelector("#".concat(a,"-label")))||void 0===t?void 0:t.querySelector("span");r&&(r.innerHTML=n)}}])&&r(n.prototype,l),u&&r(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}(),u=[{name:"backblaze.com",settings:{minValue:7,maxValue:null,color:"red"},values:[{id:1,name:"Storage",type:"default",priceCalcOption:null,value:.005},{id:2,name:"Transfer",type:"default",priceCalcOption:null,value:.01}]},{name:"bunny.net",settings:{minValue:0,maxValue:10,color:"orange"},values:[{id:1,name:"Storage",type:"options",priceCalcOption:null,value:[{name:"HDD",value:.01},{name:"SSD",value:.02}]},{id:2,name:"Transfer",type:"default",priceCalcOption:null,value:.01}]},{name:"scaleway.com",settings:{minValue:0,maxValue:null,color:"purple"},values:[{id:1,name:"Storage",type:"options",priceCalcOption:{freeAmount:75},value:[{name:"Multi",value:.06},{name:"Single",value:.03}]},{id:2,name:"Transfer",type:"default",priceCalcOption:{freeAmount:75},value:.02}]},{name:"vultr.com",settings:{minValue:5,maxValue:null,color:"blue"},values:[{id:1,name:"Storage",type:"default",priceCalcOption:null,value:.01},{id:2,name:"Transfer",type:"default",priceCalcOption:null,value:.01}]}]}();